<div class="header-pages">
  <h3><b>My groceries list</b></h3>
</div>

<div class ="favorite-container">
  <div id="booking-form" class="p-3 container">
    <p>Hey, <%= current_user.username %>!</p>
    <p>For when do you want to grocery shop?</p>
    <%= simple_form_for [@grocery_list] do |f| %>
        <%= f.input :start_date, as: :string, input_html: { data: { controller: "grocery-list-datepicker" } }, label: false, plaholder: 'Select these dates' %>
        <%= f.button :submit, "Generate my list", class: "btn orange-btn mb-3" %>
    <% end %>
      <% if @aisle_hash.nil? || @aisle_hash.empty?%>
      <h2 class="mt-3">Use the above calendar to select the dates or add some meals to your calendar :) </h2>

    <% else %>
      <% @aisle_hash.each do |key,items| %>
        <p class= "pt-3"><b><%= key %></b></p>
        <% items.each do |item| %>
          <% ingr = Ingredient.find_by(id: item.ingredient_id) %>
          <% recip_ingr = RecipeIngredient.find_by(id: item.recipe_ingredient_id) %>
            <div class="list">
              <input type="checkbox" id="checked">
              <label for="checked" style="width:95%">
                <li class="ingredient-card mt-2">
                  <div class="grid"><h6><%= ingr.name.capitalize %></h6></div>
                  <div class="grid"><h6><%= item.total_amount %> <%= recip_ingr.unit %></h6></div>
                </li>
              </label>
            </div>
          <% end %>
      <% end %>
    <% end %>
  </div>
</div>
